<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your App Name - High-Quality Video Downloader</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #1e3a8a, #3b82f6);
        }
        .glass-effect {
            background: rgba(40, 48, 56, 0.7);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(67, 73, 82, 0.5);
        }
    </style>
</head>
<body class="bg-slate-900 text-white">

    <!-- Header Section -->
    <header class="gradient-bg shadow-lg">
        <div class="container mx-auto px-6 py-4">
            <h1 class="text-3xl font-bold text-white">Your App Name</h1>
            <p class="text-lg text-blue-200">The Ultimate Video Downloader for Web, Desktop & Mobile</p>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-6 py-12">

        <!-- NEW: Online Downloader Tool -->
        <section id="online-tool" class="mb-12">
            <h2 class="text-3xl font-bold text-center mb-2 text-blue-400">Try It Online Now</h2>
            <p class="text-center text-slate-400 mb-8">No installation needed. Just paste a YouTube link below.</p>
            
            <div class="glass-effect rounded-2xl p-8 shadow-2xl">
                <!-- Input and Fetch Button -->
                <div class="flex flex-col sm:flex-row gap-4">
                    <input id="youtube-url" type="text" placeholder="Paste your YouTube URL here..." class="w-full p-4 bg-slate-900 border border-slate-700 rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition">
                    <button id="fetch-btn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-8 rounded-lg text-lg transition duration-300 shadow-lg flex-shrink-0">
                        <span>Fetch Links</span>
                    </button>
                </div>

                <!-- Results Area -->
                <div id="results-area" class="mt-8">
                    <!-- Download links will be injected here by JavaScript -->
                </div>
            </div>
        </section>
        
        <!-- AdSense Placeholder 1 (e.g., a leaderboard ad) -->
        <div class="bg-slate-800 rounded-lg p-8 my-8 text-center text-slate-400">
            <p>Google AdSense Banner (728x90) Placeholder</p>
        </div>

        <!-- App Description and Download Section -->
        <section id="desktop-apps">
            <h2 class="text-3xl font-bold text-center mb-8 text-blue-400">Or, Get the Desktop & Mobile Apps</h2>
            <div class="bg-slate-800 rounded-2xl shadow-2xl overflow-hidden md:flex">
                <!-- Left Side - App Screenshot/Mockup -->
                <div class="md:w-1/2 p-8 flex items-center justify-center">
                    <img src="https://placehold.co/500x400/1e293b/ffffff?text=App+Screenshot" 
                         alt="App Screenshot" 
                         class="rounded-lg shadow-xl"
                         onerror="this.onerror=null;this.src='https://placehold.co/500x400/1e293b/ffffff?text=Image+Error';">
                </div>

                <!-- Right Side - Features and Download Buttons -->
                <div class="md:w-1/2 p-8 bg-slate-800/50">
                    <h3 class="text-2xl font-bold mb-4">Powerful Features</h3>
                    <ul class="space-y-3 mb-8 text-slate-300">
                        <li class="flex items-start">
                            <svg class="w-6 h-6 text-green-400 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                            <span>All Qualities Supported (Up to 8K)</span>
                        </li>
                        <li class="flex items-start">
                            <svg class="w-6 h-6 text-green-400 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                            <span>Download Thumbnails & Custom Clips</span>
                        </li>
                        <li class="flex items-start">
                            <svg class="w-6 h-6 text-green-400 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                            <span>Clean, Modern Interface</span>
                        </li>
                    </ul>
                    <div class="space-y-4">
                        <a href="#" class="w-full flex items-center justify-center bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-6 rounded-lg text-lg transition duration-300 shadow-lg">
                            <svg class="w-6 h-6 mr-3" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M2,3H11V12H2V3M13,3H22V7H13V3M13,9H22V12H13V9M2,14H11V21H2V14Z"></path></svg>
                            Download for Windows (.exe)
                        </a>
                        <a href="#" class="w-full flex items-center justify-center bg-green-600 hover:bg-green-700 text-white font-bold py-4 px-6 rounded-lg text-lg transition duration-300 shadow-lg">
                            <svg class="w-6 h-6 mr-3" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17,1H7A2,2 0 0,0 5,3V21A2,2 0 0,0 7,23H17A2,2 0 0,0 19,21V3A2,2 0 0,0 17,1M17,19H7V5H17V19M16,13H13V8H11V13H8L12,17L16,13Z"></path></svg>
                            Download for Android (.apk)
                        </a>
                    </div>
                </div>
            </div>
        </section>
        
        <div class="bg-slate-800 rounded-lg p-8 my-8 text-center text-slate-400">
            <p>Google AdSense Box (300x250) Placeholder</p>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-slate-800/50 mt-12">
        <div class="container mx-auto px-6 py-4 text-center text-slate-400">
            <p>&copy; 2025 Your App Name. All Rights Reserved.</p>
            <p class="text-sm mt-1">Disclaimer: Please respect copyright laws. This tool is for personal use only.</p>
        </div>
    </footer>

    <!-- JavaScript for the Online Tool -->
    <script>
        const fetchBtn = document.getElementById('fetch-btn');
        const urlInput = document.getElementById('youtube-url');
        const resultsArea = document.getElementById('results-area');

        fetchBtn.addEventListener('click', async () => {
            const youtubeUrl = urlInput.value.trim();
            if (!youtubeUrl) {
                resultsArea.innerHTML = `<p class="text-red-400 text-center">Please enter a YouTube URL.</p>`;
                return;
            }

            // Show loading state
            fetchBtn.disabled = true;
            fetchBtn.innerHTML = `
                <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                </svg>
                <span>Fetching...</span>`;
            resultsArea.innerHTML = '';

            try {
                // 1. Extract Video ID from URL
                const videoId = extractVideoID(youtubeUrl);
                if (!videoId) {
                    throw new Error('Could not find a valid YouTube video ID in the URL.');
                }

                // 2. Use a reliable Invidious API instance
                const apiUrl = `https://yewtu.be/api/v1/videos/${videoId}`;

                const response = await fetch(apiUrl);

                if (!response.ok) {
                    throw new Error(`API Error: ${response.statusText}`);
                }

                const data = await response.json();

                // 3. Process the response and display results
                displayResults(data);

            } catch (error) {
                resultsArea.innerHTML = `<p class="text-red-400 text-center">Failed to fetch download links. ${error.message}</p>`;
            } finally {
                // Restore button state
                fetchBtn.disabled = false;
                fetchBtn.innerHTML = `<span>Fetch Links</span>`;
            }
        });

        function extractVideoID(url) {
            const regex = /(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/;
            const match = url.match(regex);
            return match ? match[1] : null;
        }

        function displayResults(data) {
            const streams = data.formatStreams || [];
            const audioStreams = data.adaptiveFormats ? data.adaptiveFormats.filter(f => f.type.startsWith('audio')) : [];

            if (streams.length === 0 && audioStreams.length === 0) {
                resultsArea.innerHTML = `<p class="text-yellow-400 text-center">No downloadable formats found.</p>`;
                return;
            }

            let html = `<h3 class="text-xl font-semibold mb-4 text-center">${data.title}</h3>`;
            html += '<div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4">';
            
            // Display video streams
            streams.forEach(item => {
                // You can wrap these 'a' tags with your link shortener URL
                html += `
                    <a href="${item.url}" target="_blank" rel="noopener noreferrer" class="bg-slate-700 hover:bg-slate-600 text-white font-semibold py-3 px-4 rounded-lg text-center transition duration-300 flex flex-col items-center justify-center">
                        <span class="text-lg">${item.qualityLabel}</span>
                        <span class="text-xs text-slate-400">${item.container.toUpperCase()}</span>
                    </a>
                `;
            });
            
            // Display best audio stream
            if (audioStreams.length > 0) {
                const bestAudio = audioStreams.reduce((prev, current) => (prev.bitrate > current.bitrate) ? prev : current);
                 html += `
                    <a href="${bestAudio.url}" target="_blank" rel="noopener noreferrer" class="bg-purple-700 hover:bg-purple-600 text-white font-semibold py-3 px-4 rounded-lg text-center transition duration-300 flex flex-col items-center justify-center">
                        <span class="text-lg">Audio Only</span>
                        <span class="text-xs text-slate-400">MP3 / M4A</span>
                    </a>
                `;
            }


            html += '</div>';
            resultsArea.innerHTML = html;
        }

    </script>

</body>
</html>
